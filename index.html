<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>JMP for zeromq v6</h1>
<p><code>jmp-zeromq6</code> is an <a href="https://www.npmjs.com/">npm module</a> for testing <code>jmp</code>
against the upcoming <a href="https://www.npmjs.com/package/zeromq"><code>zeromq@6</code></a>.</p>
<p><code>jmp</code> is an <a href="https://www.npmjs.com/">npm module</a> for creating, parsing and
replying to messages of the <a href="http://ipython.org/ipython-doc/stable/development/messaging.html">Jupyter Messaging
Protocol</a> over
<a href="http://zeromq.org/bindings:node-js">ZMQ sockets</a>.</p>
<h2>Anouncements</h2>
<ul>
<li>
<p>Version v3.0.0 does not ship any API changes, but it upgrades to zeromq@6 and
thus it requires node v10.2 or above.</p>
</li>
<li>
<p>Version v2.0.0 does not ship any API changes, but it upgrades to zeromq@5 and
thus it requires node v6 or above.</p>
</li>
<li>
<p>Version v1.0.0 is a backwards-compatible change in the API. Now,
<code>Message#respond</code> returns the response message, so that users can access
properties like the response header.</p>
</li>
<li>
<p>Version v0.7.0 depends on <code>zeromq</code>. <code>zmq-prebuilt</code> has been renamed <code>zeromq</code>
and is now maintained by the zeromq organisation.</p>
</li>
<li>
<p>Version v0.6.0 depends on <code>zmq-prebuilt</code> to help with testing.
See <a href="https://github.com/n-riesco/jmp/issues/18">issue #18</a>.</p>
</li>
<li>
<p>Version v0.5.0 is backwards-incompatible. The attribute
<code>Message#blobs</code> has been renamed to <code>Message#buffers</code>.
See <a href="https://github.com/n-riesco/jmp/issues/14">issue #14</a>.</p>
</li>
<li>
<p>Version v0.4.0 is backwards-incompatible. The attribute
<code>Message#signatureOK</code> has been removed.
See <a href="https://github.com/n-riesco/jmp/issues/10">issue #10</a>.</p>
</li>
<li>
<p>Version v0.2.0 is backwards-incompatible. The attribute <code>Message#parentHeader</code>
has been renamed to
<a href="http://n-riesco.github.io/jmp/module-jmp-Message.html#parent_header"><code>Message#parent_header</code></a>.
See <a href="https://github.com/n-riesco/jmp/issues/7">issue #7</a>.</p>
</li>
<li>
<p>Version v0.1.0 is backwards-incompatible. <code>npm</code> packages depending on the
initial release of JMP need to update their dependency field:</p>
</li>
</ul>
<pre class="prettyprint source"><code>&quot;jmp&quot;: &quot;&lt;0.1.0&quot;,
</code></pre>
<h2>Install</h2>
<p>The latest stable release is published on
<a href="https://www.npmjs.com/package/jmp"><code>npm</code></a> and can be installed by running:</p>
<pre class="prettyprint source lang-sh"><code>npm install jmp
</code></pre>
<p>The master branch in the <a href="https://github.com/n-riesco/jmp">github repository</a>
provides the latest development version and can be installed by:</p>
<pre class="prettyprint source lang-sh"><code>git clone https://github.com/n-riesco/jmp.git
npm install ./jmp
</code></pre>
<p>Branch <code>v0.0</code> provides the latest version of JMP, backwards-compatible with the
first release. It can be installed from <code>npm</code>:</p>
<pre class="prettyprint source lang-sh"><code>npm install &quot;jmp@&lt;0.1.0&quot;
</code></pre>
<p>or github:</p>
<pre class="prettyprint source lang-sh"><code>git clone -b v0.0 https://github.com/n-riesco/jmp.git
npm install ./jmp
</code></pre>
<h2>Usage</h2>
<h3>Import modules</h3>
<p>JMP depends on <a href="http://zeromq.org/bindings:node-js">ZMQ</a> and for convenience JMP
exports the module <code>zmq</code>:</p>
<pre class="prettyprint source lang-js"><code>var crypto = require(&quot;crypto&quot;);
var uuid = require(&quot;uuid/v4&quot;);

var jmp = require(&quot;jmp&quot;);
var zmq = jmp.zmq;
</code></pre>
<h3>Create JMP sockets</h3>
<pre class="prettyprint source lang-js"><code>var scheme = &quot;sha256&quot;;
var key = crypto.randomBytes(256).toString('base64');

var serverSocket = new jmp.Socket(&quot;router&quot;, scheme, key);
var clientSocket = new jmp.Socket(&quot;dealer&quot;, scheme, key);

var address = &quot;tcp://127.0.0.1:8888&quot;;

serverSocket.bindSync(address);
clientSocket.connect(address);
</code></pre>
<h3>Create a JMP message from scratch</h3>
<pre class="prettyprint source lang-js"><code>var request = new jmp.Message();

request.idents = [];
request.header = {
    &quot;msg_id&quot;: uuid(),
    &quot;username&quot;: &quot;user&quot;,
    &quot;session&quot;: uuid(),
    &quot;msg_type&quot;: &quot;kernel_info_request&quot;,
    &quot;version&quot;: &quot;5.0&quot;,
};
request.parent_header = {};
request.metadata = {};
request.content = {};
</code></pre>
<h3>Send a message over a JMP socket</h3>
<pre class="prettyprint source lang-js"><code>clientSocket.send(request);
</code></pre>
<h3>Listen on a JMP socket and respond to a message</h3>
<pre class="prettyprint source lang-js"><code>serverSocket.on(&quot;message&quot;, onRequest);

function onRequest(msg) {
    var responseMessageType = &quot;kernel_info_reply&quot;;

    var responseContent = {
        &quot;protocol_version&quot;: &quot;0.0.0&quot;,
        &quot;implementation&quot;: &quot;kernel&quot;,
        &quot;implementation_version&quot;: &quot;0.0.0&quot;,
        &quot;language_info&quot;: {
            &quot;name&quot;: &quot;test&quot;,
            &quot;version&quot;: &quot;0.0.0&quot;,
            &quot;mimetype&quot;: &quot;text/plain&quot;,
            &quot;file_extension&quot;: &quot;test&quot;,
        },
        &quot;banner&quot;: &quot;Test&quot;,
        &quot;help_links&quot;: [{
            &quot;text&quot;: &quot;JMP&quot;,
            &quot;url&quot;: &quot;https://github.com/n-riesco/nel&quot;,
        }],
    };

    var responseMetadata = {};

    msg.respond(
        serverSocket, responseMessageType, responseContent, reponseMetadata
    );
}
</code></pre>
<h3>Remove listeners and close sockets</h3>
<pre class="prettyprint source lang-js"><code>serverSocket.removeListener(&quot;message&quot;, getRequest);
serverSocket.close()
clientSocket.close()
</code></pre>
<h1>Documentation</h1>
<p>Documentation generated using <a href="http://usejsdoc.org/">JSDoc</a> can be found
<a href="http://n-riesco.github.io/jmp/">here</a>.</p>
<h1>Contributions</h1>
<p>First of all, thank you for taking the time to contribute. Please, read
<a href="https://github.com/n-riesco/jmp/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a>
and use the <a href="https://github.com/n-riesco/jmp/issues">issue tracker</a> for any
contributions: support requests, bug reports, enhancement requests, pull
requests, ...</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-jmp.html">jmp</a></li></ul><h3>Classes</h3><ul><li><a href="Message.html">Message</a></li><li><a href="Socket.html">Socket</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Wed Apr 14 2021 14:23:17 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>